import librosaimport numpy as npimport matplotlib.pyplot as pltdef detect_pitch(magnitudes, pitches, t):    n = 1    # index = magnitudes[:, t].argmax()    # pitch = pitches[index, t]    indices = np.argpartition(magnitudes[:, t], -n)[-n:]    pitch_avg = 0    for idx in indices:        pitch_avg += (pitches[idx, t] / n)    return pitch_avgy, sr = librosa.load("cmaj.wav")pitches, magnitudes = librosa.piptrack(y=y, sr=sr, n_fft=2048, threshold=0.5)freq_list = []for t in range(np.size(pitches, 1)):    freq_list.append(detect_pitch(magnitudes, pitches, t))plt.plot(freq_list)plt.show()plt.plot(pitches)plt.show()plt.plot(magnitudes)plt.show()